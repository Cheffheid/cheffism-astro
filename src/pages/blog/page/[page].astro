---
import Layout from '@layouts/Layout.astro';
import { getNumPages } from '@utils/wordpress';

import '@styles/views/blog.css';
import River from '@components/content/River.astro';

const { page } = Astro.params;

export async function getStaticPaths() {
	let pageCount = await getNumPages( 'post' );
	let routes = [];

	for ( var i = 2; i <= pageCount; i++ ) {
		routes.push({
			params: { page: i }
		});
	}

	return routes;
}
---

<Layout title="Blog">
	<section class="page-content">
		<h1 class="page-title">Things I've Written</h1>
		<River page={page} />
	</section>
</Layout>
